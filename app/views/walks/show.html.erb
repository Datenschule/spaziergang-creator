<h1><%= @walk.name %></h1>

<h2>Location</h2>
<p><%= @walk.location %></p>
<h2>Description</h2>
<p><%= @walk.description %></p>

<%= can_edit_walk(@walk) %>



<h2>Stationen</h2>
<p>
  <% if @walk.stations.size > 1 %>
    <%= link_to sort_walk_stations_path(@walk),
    class: "btn tooltip",
      data: { tooltip: "Reihenfolge ändern"} do %>
      <i data-feather="list"></i>
    <% end %>
  <% end %>

  <%= link_to new_walk_station_path(@walk),
  class: "btn tooltip",
    data: { tooltip: "Neue Station hinzufügen"} do %>
    <i data-feather="plus-circle"></i>
  <% end %>

</p>

<% if @walk.stations.first %>
  <ul>
    <% @walk.stations.sort_by(&:priority).each do |st| %>
      <li>
        <%= link_to  st.name, station_path(st) %>
        (<%= pluralize(st.subjects.size, 'subject') %>)

        <ul>
          <% st.subjects.each do |sub| %>
            <li><%= link_to sub.name, subject_path(sub) %>
              (<%= pluralize(sub.pages.size, 'pages') %>)
            </li>
          <% end %>
        </ul>
      </li>
    <% end %>
  </ul>
<% else %>
  No stations
<% end %>
