<div class="container space-b">
  <div class="columns">
    <% if @walk.publishable? %>
      <div class="column col-6 col-md-10 col-mx-auto box">
        <div class="columns">
          <div class="column col-10">
            <p class="va-middle  m-2">Du kannst den spaziergang jetzt veröffentlichen</p>
          </div>
          <div class="column col-2 text-right">
            <%= render "walks/publish"%>
          </div>
        </div>
      </div>
    <% else %>
      <div class="column col-12 box">
        <p class="mt-2">Du kannst deinen Spaziergang noch nicht veröffentlichen.</p>
        <ul class="step mt-2 mb-2">
          <li class="step-item <%= 'active' if walks_public_status_helper == 'walk' %>">
            <%= link_to 'Spaziergang', walk_path(@walk),
            data: { tooltip: "Spaziergang erstellt" },
            class: "tooltip"%>
          </li>

          <li class="step-item <%= 'active' if walks_public_status_helper == 'station' %>">
            <%= link_to 'Station', new_walk_station_path(@walk),
            data: { tooltip: "Mindestens 2 Stationen hinzugefügt" },
            class: "tooltip"%>
          </li>

          <li class="step-item <%= 'active' if walks_public_status_helper == 'courseline' %>">
            <% if @walk.stations.count >= 2 %>
              <%= link_to 'Laufroute', route_walk_path(@walk),
              data: { tooltip: "Laufroute hinzugefügt" },
              class: "tooltip"%>
            <% else %>
              <a disabled="disabled" class="tooltip" data-tooltip="Laufroute hinzugefügt">Laufroute</a>
            <% end %>
          </li>

          <li class="step-item <%= 'active' if walks_public_status_helper == 'subject' %>">
            <% if @walk.stations.first.present? %>
              <%= link_to 'Thema', new_station_subject_path(@walk.stations.first),
              data: { tooltip: "Mindestens 1 Thema hinzugefügt" },
              class: "tooltip"%>
            <% else %>
              <a disabled="disabled" class="tooltip" data-tooltip="Mindestens 1 Thema hinzugefügt">Thema</a>
            <% end %>
          </li>

          <li class="step-item <%= 'active' if walks_public_status_helper == 'page' %>">
            <% if @walk.stations.first.present? && @walk.stations.first.subjects.first.present? %>
              <%= link_to 'Seite', new_subject_page_path(@walk.stations.first.subjects.first),
              data: { tooltip: "Mindestens 1 Seite hinzugefügt" },
              class: "tooltip"%>
            <% else %>
              <a disabled="disabled" class="tooltip" data-tooltip="Mindestens 1 Seite hinzugefügt">Seite</a>
            <% end %>
          </li>
        </ul>
      </div>
    <% end %>
  </div>
</div>
